import re

def function_extraction(input_file):
    code_dict = {}
    pattern = r"\ncontract\s+(\w+)"
    
    with open(input_file, 'r', encoding='unicode_escape') as file:
        solidity_code = file.read()
        solidity_code = re.sub(r'//.*|/\*(.|\n)*?\*/', '', solidity_code)
        solidity_code = re.sub(r'\n\s*\n', '\n', solidity_code)
    
    contract_parts = re.findall(r'\ncontract\b[^{]*{[^}]*}', solidity_code)
    contract_function = [re.search(pattern, code).group(1) for code in contract_parts if re.search(pattern, code)]
    code_dict = {'functions':contract_parts, 'function name': contract_function}
    
    return code_dict


gg = 'New_folder\\Data\\1947.sol'

hh = function_extraction(gg)
print(hh)